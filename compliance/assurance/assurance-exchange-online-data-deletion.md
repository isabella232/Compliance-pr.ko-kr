---
title: Microsoft 365 Exchange Online 데이터 지우기
description: 사서함 및 사서함 내의 항목에 대한 소프트 및 하드 데이터 제거가 사서함 내에서 처리되는 Exchange Online.
ms.author: robmazz
author: robmazz
manager: laurawi
ms.reviewer: sosstah
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
ms.localizationpriority: medium
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
- MS-Compliance
f1.keywords:
- NOCSH
ms.custom: seo-marvel-apr2020
titleSuffix: Microsoft Service Assurance
hideEdit: true
ms.openlocfilehash: 9dd365e075226d8fdbfd1a9f9e371df2668f814d
ms.sourcegitcommit: 997dd3f66f65686c2e38b7e30e67add426dce5f3
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 09/09/2021
ms.locfileid: "58947272"
---
# <a name="exchange-online-data-deletion-in-microsoft-365"></a>Exchange Online 데이터 Microsoft 365

이 Exchange Online 두 가지 유형의 지우기, 소프트 디클로저 및 하드 디클로저가 있습니다. 이는 사서함과 사서함 내의 항목에 모두 적용됩니다.

## <a name="soft-deleted-and-hard-deleted-mailboxes"></a>소프트 삭제 및 영구 삭제된 사서함

소프트 삭제된 사용자 사서함은 Microsoft 365 관리 센터 또는 Remove-Mailbox cmdlet을 사용하여 삭제된 사서함으로, Azure Active Directory 30일 미만 동안 Azure Active Directory 사서함에 남아 있습니다. 사서함은 다음과 같은 방법으로 소프트 삭제될 수 있습니다.

- 사용자 사서함의 연결된 Azure Active Directory 계정이 소프트 삭제됩니다(사용자 개체가 범위를 벗어나거나 재활용 보관함 컨테이너에 있습니다).
- 사용자 사서함의 연결된 Azure Active Directory 계정이 영구 삭제 했지만 Exchange Online 사서함은 소송 보류 또는 eDiscovery 보류 상태입니다.
- 사용자 사서함의 연결된 Azure Active Directory 계정이 지난 30일 이내에 제거된 경우 영구적으로 제거되고 복구할 수 Exchange Online 사서함을 소프트 삭제 상태로 유지하는 최대 보존 기간입니다.

영구 삭제된 사용자 사서함은 다음 방법 중 하나에서 삭제된 사서함입니다.

- 사용자 사서함이 30일 이상 소프트 삭제되고 연결된 Azure Active Directory 영구 삭제되었습니다. 전자 메일, 연락처 및 파일과 같은 모든 사서함 콘텐츠는 영구적으로 삭제됩니다.
- 사용자 사서함과 연결된 사용자 계정이 사용자 사서함에서 영구 삭제 Azure Active Directory. 사용자 사서함은 이제 사서함에서 Exchange Online 30일 동안 소프트 삭제 상태로 유지됩니다. 30일 동안 새 Azure Active Directory 사용자가 **동일한 ExchangeGuid 또는 ArchiveGuid를** 통해 원래 받는 사람 계정에서 동기화되는 경우 해당 새 계정이 Exchange Online 라이선스가 부여된 경우 원래 사용자 사서함이 하드 삭제됩니다. 전자 메일, 연락처 및 파일과 같은 모든 사서함 콘텐츠는 영구적으로 삭제됩니다.
- 소프트 삭제된 사서함은 **Remove-Mailbox -PermanentlyDelete 를 사용하여 삭제됩니다.**

위의 제거 시나리오에서는 사용자 사서함이 소송 보류 또는 eDiscovery 보류와 같은 보류 상태인 것으로 가정합니다. 사서함에 보류 유형이 있는 경우 사서함을 삭제할 수 없습니다. 모든 메일 사용자 받는 사람 [](https://support.office.com/article/manage-legal-investigations-in-office-365-2e5fbe9f-ee4d-4178-8ff8-4356bc1b168e?ui=en-US&rs=en-US&ad=US) 유형에 대해 모든 보류 설정은 무시되고 하드 디클로저 또는 소프트 디클로저에 영향을 미치지 않습니다.

## <a name="soft-deleted-and-hard-deleted-items"></a>소프트 삭제 및 영구 삭제된 항목

사용자가 사서함 항목(예: 전자 메일 메시지, 연락처, 일정 약속 또는 작업)을 삭제하면 항목이 복구 가능한 항목 폴더 및 "삭제"라는 하위 폴더로 이동됩니다. 이를 소프트 지우기라고 합니다. 삭제된 항목이 삭제 폴더에 보관되는 기간은 사서함에 대해 설정된 삭제된 항목 보존 기간에 따라 다를 수 있습니다. Exchange Online 사서함은 삭제된 항목을 기본적으로 14일 동안 유지하지만 Exchange Online 관리자가 이 설정을 변경하여 기간을 최대 30일까지 늘일 수 있습니다. Exchange Online 사서함의 삭제된 항목 보존 기간을 늘리는 자세한 단계는 Exchange Online 사서함에 대해 영구적으로 삭제된 항목이 보관되는 기간 [변경을 참조하세요.](/exchange/recipients-in-exchange-online/manage-user-mailboxes/change-deleted-item-retention) 사용자는 삭제된 항목의 보존 기간이 만료되기 전에 삭제된 항목을 복구하거나 삭제할 수 있습니다. 이를 위해 Microsoft 365에서 지운 항목 복구 기능을 Outlook 웹용 Outlook.

사용자가 삭제된 항목의 복구 기능을 사용하여 삭제된 항목을 Outlook 웹용 Outlook 이를 영구 삭제라고 합니다. 또한 Exchange Online 사서함을 만들 때 기본적으로 단일 항목 복구가 사용하도록 설정되어 [](/Exchange/recipients/user-mailboxes/recover-deleted-messages) 있으므로 관리자는 삭제된 항목 보존 기간이 만료되기 전에 영구 삭제된 항목을 복구할 수 있습니다. 또한 사용자 또는 프로세스에 의해 메시지가 변경된 경우 단일 항목 복구를 사용하도록 설정하면 원본 항목의 복사본도 보존됩니다.

## <a name="page-zeroing"></a>페이지 비우기

*비우기란* 삭제된 데이터를 복구하기가 더 어려우며 삭제된 데이터에 대해 0이나 이진 패턴을 작성하는 보안 메커니즘입니다. 이 Exchange Online 사서함 데이터베이스는 페이지를  저장소 단위로 사용하며 페이지 비우기 이라는 덮어 *덮어 사용 프로세스를 구현합니다.* 페이지 비우기는 기본적으로 사용하도록 설정되어 있으며 고객 또는 Microsoft에서 사용하지 않도록 설정할 수 없습니다. 페이지 비우기 작업은 트랜잭션 로그 파일에 기록됩니다. 따라서 주어진 데이터베이스의 모든 복사본이 비슷한 방식으로 페이지 비우기 방식으로 수행됩니다. 활성 데이터베이스 복사본의 페이지를 비우면 데이터베이스의 수동 복사본에서 페이지가 비어 있습니다.

페이지 비우기에서는 영구 삭제된 레코드에 이진 패턴을 쓴다. 페이지 비우기 패턴은 ESE(Extensible Storage Engine) 작업(Exchange Online의 서버에서 사용하는 내부 데이터베이스 엔진의 이름)과 관련이 있으며 런타임 작업과 백그라운드 데이터베이스 유지 관리 작업에는 서로 다릅니다. 백그라운드 데이터베이스 유지 관리는 각 데이터베이스를 지속적으로 체크 인하고 검사하는 프로세스입니다. 기본 기능은 데이터베이스 페이지를 체크 인하는 것이지만 저장소 크래시로 비우지 않은 레코드와 페이지를 정리하고 비우는 작업도 처리합니다.

다음 표에는 특정 런타임 작업에 해당하는 채우기 패턴이 나와 있습니다.

| ESE 런타임 작업   | 채우기 패턴 |
|--------------------------|--------------|
| 바꾸기                  | R            |
| 레코드/Long 값 삭제 | D            |
| 비운 페이지 공간         | H            |

다음 표에는 ESE 백그라운드 데이터베이스 유지 관리 중에 발생하는 특정 작업에 해당하는 채우기 패턴이 나와 있습니다.

| ESE 백그라운드 데이터베이스 유지 관리 작업 | 채우기 패턴 |
|-----------------------------------------------|--------------|
| 레코드 삭제                                 | D            |
| Long 값 삭제                             | L            |
| 부분적으로 사용된 페이지의 비운 페이지 공간       | Z            |
| 사용되지 않은 페이지의 비운 페이지 공간               | U            |

### <a name="page-zeroing-process"></a>페이지 비우기 프로세스

페이지 비우기 프로세스는 지우기 시나리오에 따라 다릅니다. 다음 표에서는 데이터베이스 삭제 시나리오 및 페이지 비우기 기능이 수행되는 시기에 대해 설명합니다.

| 데이터베이스 삭제 시나리오 | 데이터베이스 데이터를 비우기 위한 ESE 프로세스 및 시간대 |
|:--------------------------|:------------------------------------------------|
| 삭제된 항목 보존 기간에 따라 항목이 만료됩니다. | 비동기 스레드는 삭제된 데이터를 바이너리 패턴으로 덮어씁니다. 이 작업은 레코드 삭제 후 몇 밀리초 이내에 발생합니다. 비동기 비우기 작업을 여전히 해결하지 못하거나 버전 저장소 증가로 인해 버전 저장소 정리가 취소된 경우 백그라운드 데이터베이스 유지 관리에서 데이터베이스의 해당 섹션을 처리하면 비우기 프로세스가 완료됩니다. |
| 시나리오 보기: Outlook/웹용 Outlook 폴더 보기에서 항목 만료(예: 대화 보기) | 백그라운드 데이터베이스 유지 관리가 데이터베이스의 해당 섹션을 처리할 때 데이터 비우기가 발생합니다. |
| 사서함 이동/사서함 삭제 시나리오: 원본 사서함 삭제(삭제된 사서함의 만료) | 백그라운드 데이터베이스 유지 관리가 데이터베이스의 해당 섹션을 처리할 때 데이터 비우기가 발생합니다. |

### <a name="mailbox-data-types-without-page-zeroing"></a>페이지 비우기 없이 사서함 데이터 형식

다음 사서함 데이터 형식에는 페이지 비우기 프로비전이 없습니다.

- **사서함 데이터베이스 트랜잭션** 로그 - 트랜잭션 로그가 정상적인 작업의 일부로 삭제되면 삭제된 로그 파일을 저장한 파일 시스템의 블록을 비우는 프로세스가 없습니다. 파일 시스템에서 새로 만든 로그에 대한 사용 공간을 빠르게 다시 사용할 수 있지만 이 경우의 가능성은 보장되지 않습니다.
- **콘텐츠 인덱스 카탈로그** 파일 - Exchange Online 인덱싱 기능을 위해 Search Foundation(FAST)을 사용하는지. 검색 인덱스 카탈로그는 사서함 데이터베이스 파일과 동일한 볼륨에 저장된 수십 개의 파일로 구성됩니다. 메시지가 사서함 데이터베이스에서 영구 삭제될 때 검색 카탈로그의 연결된 콘텐츠는 즉시 삭제되지 않습니다. 콘텐츠 삭제는 Search Foundation에서 여러 작은 카탈로그 파일의 섀도(또는 마스터 병합)를 단일 큰 파일에 저장하는 경우에 발생합니다. 마스터 병합이 완료된 후 작은 카탈로그 파일은 삭제됩니다. 삭제된 카탈로그 파일을 저장한 블록을 비우는 프로세스는 없습니다.

## <a name="continuous-replication"></a>연속 복제

연속 복제(로그 전달 및 재생)는 모든 사서함 데이터베이스의 복사본을 Exchange Online 유지 관리하여 고가용성, 사이트 복구 및 재해 복구를 제공하는 기능의 기술입니다. 연속 복제는 Exchange Server 데이터베이스 크래시 복구 지원을 사용하여 하나 이상의 사서함 데이터베이스 복사본에 대한 비동기 업데이트를 수행하는 기술을 제공합니다. 각 사서함 서버는 활성 데이터베이스(예: 사용자 전자 메일 활동)에서 만든 데이터베이스 업데이트를 1MB 트랜잭션 로그 파일의 일차 집합에 로그 레코드로 기록합니다. 이 파일 집합을 로그 스트림이라고 합니다. 연속 복제에서는 로그 스트림을 사용하여 하나 이상의 데이터베이스 복사본을 비동기적으로 업데이트합니다. 이 작업을 수행하기 위해 활성 데이터베이스의 수동 복사본이 포함된 위치로 로그를 전송한 다음 수동 데이터베이스 복사본으로 재생합니다. 활성 데이터베이스의 모든 로그가 데이터베이스의 수동 복사본에 대해 재생된 경우 두 데이터베이스는 동일하며, 이 프로세스를 통해 활성 데이터베이스에 대한 실제 변경이 해당 데이터베이스의 모든 수동 복사본에 복제됩니다.

사서함 데이터베이스에서 삭제하는 경우, 사서함 항목 또는 전체 사서함, 그리고 소프트 삭제 또는 영구 삭제 여부는 활성 데이터베이스의 실제 변경을 나타 내는 것입니다. 페이지 비우기 작업도 활성 데이터베이스를 물리적으로 변경해야 합니다. 이러한 변경 내용은 연속 복제라는 프로세스를 통해 로그 파일에 기록되고 해당 로그 파일이 데이터베이스의 수동 복사본에 대해 재생되는 경우 해당 수동 데이터베이스에 동일한 물리적 변경 내용이 적용됩니다.
